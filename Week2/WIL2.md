# 8장~15장

### **함수를 정의하는 방법**

1. 함수 선언문으로 정의하는 방법 → 호출문이 앞에 위치해도 호출 가능
2. 함수 리터럴로 정의하는 방법
3. Function 생성자로 정의하는 방법
4. 화살표 함수 표현식으로 정의하는 방법

→ 나머지는 호출하는 코드보다 앞에 위치

### 중첩 함수

함수의 내부에 선언된 함수

if문과 while문 등의 문장 블록 안에는 작성 할 수 없음

자신을 둘러싼 외부 함수의 인수와 지역 변수에 접근 가

### **함수를 호출하는 방법**

1. 함수 호출
2. 메서드 호출
3. 생성자 호출
4. call, apply를 사용한 호출

### **즉시 실행 함수**

익명 함수를 정의하는 동시에 실행

### **인수 생략**

함수 정의식에 작성된 인자 개수보다 인수를 적게 전달해서 함수 실행, 생략한 인자는 undefined

인수를 생략했을 때 사용할 초기값을 설정 → ||

### **가변 길이 인수 목록(Arguments 객체)**

모든 함수에서 사용할 수 있는 지역 변수, 인수 개수가 일정하지 않은 가변 인수 함수 정의 가능

함수에 인수를 n개 넘겨서 호출하면 arguments에 저장 됨

length와 callee를 갖고 있음

### **실행 문맥**

렉시컬 환경 컴포넌트 : 환경 컴포넌트, 외부 렉시컬 환경 참조

변수 환경 컴포넌트 : 렉시컬과 타입이 같음

디스 바인딩 컴포넌트 : 호출한 객체의 참조가 저장되는 곳, this

### **환경 레코드**

식별자와 그 값의 묶음이 실제로 저장되는 영역

선언적 환경 레코드, 객체 환경 레코드

### **this 값**

함수가 호출되어 실행되는 시점에 값이 결정

함수가 호출 되었을 때 그 함수가 속해 있던 객체의 참조 → 디스 바인딩 컴포넌트가 참조하는 객체

1. 최상위 레벨 코드의 this : 전역 객체를 가르킴
2. 이벤트 처리기 안에 있는 this : 이벤트가 발생한 요소 객체를 가르킴
3. 생성자 함수 안에 있는 this : 그 생성자로 생성한 객체를 가르킴
4. 생성자의 prototype 메서드 안에 있는 this : 그 생성자로 생성한 객체 가르킴
5. 직접 호출한 함수 안에 있는 this : 전역 객체
6. apply와 call 메서드로 호출한 함수 안에 있는 this : 디스 바인딩 컴포넌트가 가르키는 객체

### **식별자 결정 : 유효 범위 체인**

현재의 유효범위 안에 없는 식별자를 찾을 때 바깥쪽 범위로 호출자의 렉시컬 환경에 속한 외부 렉시컬 환경의 참조를 따라 찾아가는 방식

식별자 찾지 못하면 참조 오류 발생

### 가비지 컬렉션

사용하지 않는 객체(참조하지 않는 객체)의 메모리 영역을 자동 해제

### 클로저

자기 자신이 정의된 환경에서 함수 안에 있는 자유 변수의 식별자 결정을 실행

함수 객체와 렉시컬 환경 컴포넌트의 집합

### 전역 변수의 오염 방지 기법

1. 객체를 이름 공간으로 활용하기
2. 함수를 이름 공간으로 활용하기

### 고차 함수

함수를 인수로 받는 함수, 함수를 반환하는 함수

### 메모제이션

인수로 받은 함수의 실행 결과를 객체 cache 안에 저장

### 부분 적용

인수를 여러 개 받는 함수의 몇몇 인수를 상수로 지정해서 새로운 함수를 생성하는 기법

### 커링

인수를 두 개 이상 받는 함수를 분해하여 인수가 하나인 함수의 중첩 함수로 반환하는 작업

### 콜백 함수

다른 함수에 인수로 넘겨지는 함수

이벤트처리기, 타이머

### 객체의 생성

1. 객체 리터럴로 생성하는 방법
2. 생성자로 생성하는 방법
3. Object.create 로 생성하는 방법

### 프로토 타입

생성자 안에서 this 뒤에 메서드를 정의하면 그 생성자로 생성한 모든 인스턴스에 똑같은 메서드가 추가

인스턴스를 여러 개 생성하면 같은 작업을 하는 메서드를 인스턴스 개수만큼 생성하게 되며 결과적으로 그만큼의 메모리를 소비 → 프로토타입 객체에 메서드를 정의하는 방식으로 해결

함수의 prototype 프로퍼티가 가리키는 객체를 그 함수의 프로토타입 객체라고 하고 prototype 프로퍼티는 ****빈 객체를 가리킴

프로토타입 객체의 프로퍼티는 읽기만 가능하고 수정이 불가능

### 프로토 타입 상속

객체의 __proto__속성은 부모 객체

### **프로토타입 객체의 프로퍼티**

함수를 정의 하면 prototype 속성(__proto__와는 다른 속성)을 가짐

 prototype 속성은 constructor와 proto를 포함

### 객체 프로퍼티

1. 데이터 프로퍼티 : 값을 저장하기 위한 프로퍼티
2. 접근자 프로퍼티 : 값이 없음, 프로퍼티를 읽거나 쓸 때 호출하는 함수를 값 대신에 지정할 수 있는 프로퍼티

### 배열의 메서드

**수정 메서드**

push : 배열 마지막에 하나 이상의 요소를 추가한 다음 배열의 길이 반환

pop : 배열의 마지막 요소를 잘라내어 반환

shift : 배열의 첫 번째 요소를 제거한 후 모든 배열 요소를 왼쪽으로 이동, 삭제된 요소의 값 반환

unshift : 배열 앞부분에 요소를 한 개 이상 추가한 후 모든 배열 요소를 오른쪽으로 이동, 배열의 길이 반환

splice : 특정 인덱스의 배열 요소를 갈아 끼울 때 사용, 삭제도 가능, 삭제된 요소는 배열로 만들어 반환

sort : 배열 안의 요소 비교 함수를 참조해 정렬, 정렬된 배열 반환

**접근자 메서드**

원래 배열 수정 안 함

join : 모든 요소의 값을 문자열로 바꾼 후 연결해 반환

concat : 인수로 받은 값을 배열 요소로 추가해 새로운 배열 생성

slice : 배열의 일부 요소를 제거한 새로운 배열 반환

indexOf와 lastIndexOf : 배열 안에서 인수로 지정한 값을 검색해 가장 먼저 찾은 요소의 인덱스 반환, 찾지 못하면 -1 반환, indexOf는 작은 쪽부터 lastIndexOf는 큰 쪽부터

toString과 toLocalString : 배열의 요소를 문자열로 변환하여 쉼표로 연결한 문자열을 반환

**반복매서드**

배열의 모든 요소를 순회하며 특정한 작업을 수행하거나 특정 조건을 만족하는 요소를 가져올 때 사용하는 메서드

forEach : 인수로 받은 함수를 배열의 요소별로 한 번씩 실행, for문 대신 사용 가능

map : 인수로 받은 함수를 배열의 요소별로 한 번씩 실행, 그 함수가 반환한 값으로 새로운 배열 생성

reduce : 배열의 첫 번째 요소부터 마지막 요소까지 합성 곱 처리, 마지막 요소를 처리한 함수가 값 반환

### 웹 브라우저에서 자바스크립트가 하는 일

1. 웹 페이지의 Documnet 객체 제어(HTML 요소와 CSS 스타일 작업)
2. 웹 페이지의 Window 객체 제어 및 브라우저 제어
3. 웹 페이지에서 발생하는 이벤트 처리
4. HTTP를 이용한 통신 제어

### 자바 스크립트 코드를 삽입하는 방법

1. script 요소의 내용물로 작성(인라인 스크립트)
2. 외부 파일 읽어 들이기(외부 스크립트)
3. 이벤트 처리기 속성에 작성
4. JavaScript : URL(자바 스크립트 의사 프로토콜)

### Location 객체

창에 표시되는 문서의 URL 관리

1. 해당 URL이 가리키는 문서 읽어 들임 : 뒤로 가기 버튼 사용 가능

```jsx
location.href = “URL”;
locatioin.assign("URL");
```

1. 이력 남기지 않게 : 뒤로 가기 버튼 사용 불가

```jsx
location.replace("URL");
```

1. 상대 경로 지정

```jsx
setTimeout(function() {
	location.replace("/book/bookList.aspx");
},3000);
```

1. reload 메서드 사용해 현재의 페이지 다시 읽어 들일 수 있음

```jsx
location.reload();
```

1. HTML 요소 스크롤

```jsx
location.hash = "#header"; // id = "header인 HTML 요소로 스크롤하기
```

1. 서버에 질의 문자열 보내기

```jsx
location.search = "some data"; 
```

### History 객체

창의 웹 페이지 열람 이력을 관리

1. 웹 페이지 열람 이력을 진행하거나 되돌아갈 때

```jsx
history.back(); // 웹페이지 열람 이력을 하나 되돌아 간다
history.forward(); // 웹페이지 열람 이력을 하나 진행
```

1. 건너뛸 횟수를 지정해서 웹 페이지 이력을 진행하거나 되돌아갈 때

```jsx
history.go(-3); // 웹페이지 열람 이력을 세개 되돌아간다.
```

1. 페이지를 전환하지 않고 열람 이력만 추가

```jsx
histoyr.pushState(null, null, "page2.html");
// state : 새롭게 추가되는 웹 피이지 열람 이력과 연결한 객체
// title : 새로운 열람 웹 페이지 이력을 가리키는 문자열
// url : 새로운 열람 이력의 URL
```

### Navigator 객체

애플리케이션 정보 관리

### Screen 객체

화면 크기와 색상 등의 정보 관리(작업 표시줄 등을 제외한 나머지 부분)

### Document 객체

창에 표시되고 있는 웹 페이지를 관리

### 창 제어하기

**창 여닫기**

open와 close 메서드 사용

```jsx
/* 창 열기 */
var w = open(url, 창의 이름, 옵션);
// url : 새롭게 여는 창이 읽어 들이는 문서의 URL, 생락하면 빈 페이지 표시
// 창의 이름 : 이름이 같은 창이 있다면 그 창에 표시, 생락하면 이름 없는 창 연다
// 옵션 : 새로운 창의 설정값(창의 크기 등)을 쉼표로 연결해 표기

/* 창 닫기 */
w.close();
```

**창 제어하기**

위치 : moveBy와 moveTo 메서드 사용

```jsx
w.moveBy(10, 20); // 수평(오른쪽)으로 10px, 수직(왼쪽)으로 20px 이동
w.moveTo(100, 150); // (100, 150)으로 이동
```

크기 : resizeBy와 resizeTo 메서드 사용

```jsx
w.resizeBy(10, 20); // 너비 10px, 높이 20px로 키운다
w.resizeTo(200, 150); //너비 200px, 높이 150px로 설정
```

스크롤 : scrollBy와 scrollTo 메서드

```jsx
w.scrollBy(0, 100); // 아래쪽으로 100px 스크롤
w.scrollTo(0, 0); //시작 위치로 이동
```

### DOM(Document Object Model) 트리

웹 페이지의 내용은 Document 객체가 관리, 문서 내용을 관리하는 DOM 트리라는 객체의 트리구조를 만듦

![dom 트리](https://github.com/lzlkq/2023-2-Frontend-Study/blob/main/Week2/dom%20%ED%8A%B8%EB%A6%AC.png)

### 노드 객체 가져오기

**id 속성으로 노드 가져오기**

```jsx
document.getElementById(id 값);
```

**요소의 이름으로 노드 가져오기**

```jsx
document.getElementsByTagName(요소의 태그 이름);
```

**class 속성 값으로 노드 가져오기**

```jsx
document.getElementsByClassName(class의 이름);
```

**name 속성 값으로 노드 가져오기**

```jsx
document.getElementsByName(name 속성 값);
```

**CSS 선택자로 요소 객체 모두 가져오기**

```jsx
document.querySelectorAll("선택자");
```

**CSS 선택자로 첫 번째 요소 객체 가져오기**

```jsx
document.querySelector("선택자");
```

### 속성 값의 읽기와 쓰기

**속성 값 가져오기**

```jsx
요소 객체.getAttribute(속성의 이름)
```

**속성 값 설정하기**

```jsx
요소 객체.setAttribute(속성 이름, 속성 값)
```

**속성이 있는지 확인**

```jsx
요소 객체.hasAttribute(속성 이름)
```

**속성 삭제하기**

```jsx
요소 객체.removeAttribute(속성 이름)
```

### **노드 생성/삽입/삭제 하기**

**새로운 요소 노드 객체 생성하기**

```jsx
var element = document.createElement(요소의 이름);
```

**새로운 텍스트 노드 객체 생성하기**

```jsx
var textnode = document.createTextNode(텍스트);
```

**요소의 마지막에 삽입하기**

```jsx
요소노드.appendChild(삽입할 노드)
```

**지정한 자식 노드의 바로 앞에 삽입하기**

```jsx
요소노드.insertVefore(삽입할 노드, 자식 노드)
```

**노드 삭제하기**

```jsx
노드.removeChild(자식 노드)
```

**노드 치환하기**

```jsx
노드.replaceChild(새로운 노드, 자식 노드)
```

### 이벤트 처리기 등록하는 방법

1. HTML 요소의 이벤트 처리기 속성에 설정하는 방법
2. DOM 요소 객체의 이벤트 처리기 프로퍼티에 설정하는 방법
3. addEventListener 메서드를 사용하는 방법

### 이벤트의 전파

자식 요소에서 발생한 이벤트 부모 요소에도 전파

**이벤트의 전파 취소하기**

```jsx
event.stopPropagation();
```

**이벤트 전파의 일시 정지**

```jsx
event.stopImmediatePropagation();
```

**기본 동작 취소하기**

```jsx
event.preventDefault();
```

### 비동기 처리를 간결하게 작성하는 Promise

Promise를 사용하면 복잡하게 중첩된 코드 알아보기 쉽게 작성

**Promise의 기본**

```jsx
var promise = new Promise(function(resolve, reject) {...});
// resolve : 함수 안의 처리가 끝났을 때 호출해야 하는 콜백 함수
// reject : 함수 안의 처리가 실패했을 때 호출해야 하는 콜백 함
```

**Promise를 종료 시키는 relosolve함수와 then 메서드**

```jsx
promise.then(onFullfilled); // 성공 콜백 함수
```

**Promise를 실패로 처리하는 reject 함수와 catch 메서드**

```jsx
promise.catch(onRejected); // 실패 콜백 함수
```

**then의 두 번째 인수**

```jsx
promise.then(onFullfilled, onRejected); // 성공하면 onFullfilled, 실패하면 onRejected
```